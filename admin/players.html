<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Player Management</title>
    <style>
        /* Your existing CSS styles */
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button onclick="loadPlayers()">Manage Players</button>
            <!-- Keep other controls -->
        </div>
        <table>
            <tbody id="player-list"></tbody>
        </table>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
            databaseURL: "https://taprace-63f8e-default-rtdb.firebaseio.com/"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function loadPlayers() {
            console.log("Loading players...");
            
            db.ref("players").on("value", (snapshot) => {
                const tbody = document.getElementById("player-list");
                tbody.innerHTML = "";

                if (!snapshot.exists()) {
                    tbody.innerHTML = "<tr><td colspan='9'>No players found</td></tr>";
                    return;
                }

                snapshot.forEach(child => {
                    const player = child.val();
                    tbody.innerHTML += `
                        <tr>
                            <td>${child.key}</td>
                            <td>${player.name}</td>
                            <td>${player.email}</td>
                            <td>${player.totalClicks}</td>
                            <td>${player.rank}</td>
                            <td>${(player.walletBalance || 0).toFixed(3)} ETH</td>
                            <td>${player.registrationDate}</td>
                            <td>${player.banned ? '❌ Banned' : '✅ Active'}</td>
                        </tr>
                    `;
                });
            });
        }
    </script>
</body>
</html>
